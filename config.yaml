tide:
  merge_method:
    ucpr/test-tekton-ci: squash

  target_url: https://prow.k8s.io/tide.html

  queries:
  - repos:
    - ucpr/test-tekton-ci
    labels:
    - lgtm
    - approved
    missingLabels:
    - do-not-merge
    - do-not-merge/hold
    - do-not-merge/work-in-progress
    - needs-ok-to-test
    - needs-rebase

presubmits:
  ucpr/test-tekton-ci:
  - name: test
    trigger: "(?m)^/test"
    rerun_command: "/test"
    context: test
    always_run: true
    agent: kubernetes
    decorate: true
    spec:
      containers:
      - image: golang
        command: ["go test ..."]

  - name: go-test
    always_run: false
    skip_report: false
    spec:
    containers:
      - image: golang
        command: ["go", "test", "./..."]

  - name: unit-test
    always_run: false
    skip_report: false
    spec:
      containers:
      - image: alpine
        command: ["/bin/printenv"]
